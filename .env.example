# ============================================
# ONDC Platform Configuration
# ============================================
# Copy this file to .env and fill in the values
# Most values are auto-generated by autoconfig.sh
# ALL PASSWORDS ARE DYNAMICALLY GENERATED - NEVER USE STATIC VALUES

# --- Domain ---
DOMAIN=ondc.dmj.one

# --- PostgreSQL ---
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=ondc
POSTGRES_USER=ondc_admin
POSTGRES_PASSWORD=  # AUTO-GENERATED by autoconfig.sh

# --- Redis ---
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=  # AUTO-GENERATED by autoconfig.sh

# --- RabbitMQ ---
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=ondc
RABBITMQ_PASSWORD=  # AUTO-GENERATED by autoconfig.sh
RABBITMQ_MANAGEMENT_PORT=15672

# --- Internal API Key (shared secret for inter-service auth) ---
INTERNAL_API_KEY=  # AUTO-GENERATED 64-byte random hex

# --- Registry Service ---
REGISTRY_PORT=3001
REGISTRY_SUBSCRIBER_ID=registry.ondc.dmj.one
REGISTRY_SIGNING_PRIVATE_KEY=  # AUTO-GENERATED Ed25519 key
REGISTRY_SIGNING_PUBLIC_KEY=   # AUTO-GENERATED Ed25519 key
REGISTRY_UNIQUE_KEY_ID=registry-key-01

# --- Gateway Service ---
GATEWAY_PORT=3002
GATEWAY_SUBSCRIBER_ID=gateway.ondc.dmj.one
GATEWAY_SIGNING_PRIVATE_KEY=  # AUTO-GENERATED Ed25519 key
GATEWAY_SIGNING_PUBLIC_KEY=   # AUTO-GENERATED Ed25519 key
GATEWAY_UNIQUE_KEY_ID=gateway-key-01

# --- BAP Adapter ---
BAP_PORT=3004
BAP_SUBSCRIBER_ID=bap.ondc.dmj.one
BAP_SIGNING_PRIVATE_KEY=  # AUTO-GENERATED Ed25519 key
BAP_SIGNING_PUBLIC_KEY=   # AUTO-GENERATED Ed25519 key
BAP_UNIQUE_KEY_ID=bap-key-01

# --- BPP Adapter ---
BPP_PORT=3005
BPP_SUBSCRIBER_ID=bpp.ondc.dmj.one
BPP_SIGNING_PRIVATE_KEY=  # AUTO-GENERATED Ed25519 key
BPP_SIGNING_PUBLIC_KEY=   # AUTO-GENERATED Ed25519 key
BPP_UNIQUE_KEY_ID=bpp-key-01

# --- Admin Dashboard ---
ADMIN_PORT=3003
ADMIN_EMAIL=admin@ondc.dmj.one
ADMIN_PASSWORD=  # AUTO-GENERATED, stored bcrypt-hashed in DB
NEXTAUTH_SECRET=  # AUTO-GENERATED 64-byte random
NEXTAUTH_URL=https://admin.ondc.dmj.one

# --- Docs Portal ---
DOCS_PORT=3000

# --- Secret Vault ---
VAULT_PORT=3006
VAULT_MASTER_KEY=  # AUTO-GENERATED 256-bit key for AES-256-GCM
VAULT_TOKEN_SECRET=  # AUTO-GENERATED HMAC signing secret
VAULT_URL=http://vault:3006

# --- Orchestrator ---
ORCHESTRATOR_PORT=3007
ORCHESTRATOR_URL=http://orchestrator:3007
DOCKER_SOCKET=/var/run/docker.sock

# --- Health Monitor ---
HEALTH_MONITOR_PORT=3008
HEALTH_MONITOR_URL=http://health-monitor:3008
HEALTH_CHECK_INTERVAL_MS=15000
HEALTH_ALERT_THRESHOLD_MS=5000

# --- Log Aggregator ---
LOG_AGGREGATOR_PORT=3009
LOG_AGGREGATOR_URL=http://log-aggregator:3009
LOG_RETENTION_DAYS=30

# --- Mock Server (Simulation) ---
MOCK_SERVER_PORT=3010

# --- Simulation Engine ---
SIMULATION_ENGINE_PORT=3011
SIMULATION_ENGINE_URL=http://simulation-engine:3011

# --- Network Settings ---
BECKN_CORE_VERSION=1.1.0
BECKN_COUNTRY=IND
DEFAULT_CITY=std:011
MAX_RESPONSE_TIME_MS=30000
SIGNATURE_TTL_SECONDS=300

# --- ONDC Compliance Middleware ---
RATE_LIMIT_MAX=100         # Max requests per subscriber per window
RATE_LIMIT_WINDOW=60       # Rate limit window in seconds
DEDUP_TTL=300              # Duplicate message_id TTL in seconds (5 min)

# --- Production Mode ---
PRODUCTION_MODE=false

# --- Password Rotation ---
PASSWORD_ROTATION_INTERVAL_HOURS=24
SIGNING_KEY_ROTATION_INTERVAL_DAYS=30
